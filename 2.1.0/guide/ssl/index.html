



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Embedded OrientDB server for dropwizard">
      
      
        <link rel="canonical" href="https://xvik.github.io/dropwizard-orient-server/2.1.0/guide/ssl/">
      
      
        <meta name="author" content="Vyacheslav Rusakov">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>SSL - Dropwizard-orient-server</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#ssl" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://xvik.github.io/dropwizard-orient-server/2.1.0" title="Dropwizard-orient-server" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Dropwizard-orient-server
              </span>
              <span class="md-header-nav__topic">
                SSL
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="http://github.com/xvik/dropwizard-orient-server/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-orient-server
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://xvik.github.io/dropwizard-orient-server/2.1.0" title="Dropwizard-orient-server" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Dropwizard-orient-server
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="http://github.com/xvik/dropwizard-orient-server/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-orient-server
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      User guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../studio/" title="Studio" class="md-nav__link">
      Studio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../console/" title="Console" class="md-nav__link">
      Console
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SSL
      </label>
    
    <a href="./" title="SSL" class="md-nav__link md-nav__link--active">
      SSL
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#orient-configuration" title="Orient configuration" class="md-nav__link">
    Orient configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#certificate-paths" title="Certificate paths" class="md-nav__link">
    Certificate paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orient-info-servlet" title="/orient info servlet" class="md-nav__link">
    /orient info servlet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studio-url" title="Studio url" class="md-nav__link">
    Studio url
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-ssl-configuration" title="Auto SSL configuration" class="md-nav__link">
    Auto SSL configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../enterprise/" title="Enterprise" class="md-nav__link">
      Enterprise
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/compatibility/" title="Compatibility" class="md-nav__link">
      Compatibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/history/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#orient-configuration" title="Orient configuration" class="md-nav__link">
    Orient configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#certificate-paths" title="Certificate paths" class="md-nav__link">
    Certificate paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orient-info-servlet" title="/orient info servlet" class="md-nav__link">
    /orient info servlet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#studio-url" title="Studio url" class="md-nav__link">
    Studio url
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-ssl-configuration" title="Auto SSL configuration" class="md-nav__link">
    Auto SSL configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="http://github.com/xvik/dropwizard-orient-server/edit/master/src/doc/docs/guide/ssl.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="ssl">SSL<a class="headerlink" href="#ssl" title="Permanent link">&para;</a></h1>
<h2 id="orient-configuration">Orient configuration<a class="headerlink" href="#orient-configuration" title="Permanent link">&para;</a></h2>
<p><a href="https://orientdb.com/docs/2.2/Using-SSL-with-OrientDB.html">Orient ssl guide</a> describes that: </p>
<ul>
<li>ssl could be configured for binary protocol and https for http.</li>
<li>ssl is configured using custom socket (may be the same for both binary and http listeners)</li>
<li>both secured and not secured listeners could co-exist </li>
</ul>
<p>Example ssl only configuration:</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">network</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">sockets</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
          <span class="l l-Scalar l-Scalar-Plain">implementation</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.OServerTLSSocketFactory</span>
          <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.clientAuth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.keyStore</span><span class="p p-Indicator">:</span> <span class="s">&#39;path/to/example.keystore&#39;</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.keyStorePassword</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">example</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.trustStore</span><span class="p p-Indicator">:</span> <span class="s">&#39;path/to/example.keystore&#39;</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.trustStorePassword</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">example</span>
      <span class="l l-Scalar l-Scalar-Plain">protocols</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">binary</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.binary.ONetworkProtocolBinary</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">http</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.http.ONetworkProtocolHttpDb</span>
      <span class="l l-Scalar l-Scalar-Plain">listeners</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">binary</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2434-2440</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2480-2490</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
          <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>

<p>Note that socket parameter of listeners set to <code>ssl</code> instead of <code>default</code>. </p>
<p>Mixed configuration:</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">network</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">sockets</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
          <span class="l l-Scalar l-Scalar-Plain">implementation</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.OServerTLSSocketFactory</span>
          <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.keyStore</span><span class="p p-Indicator">:</span> <span class="s">&#39;path/to/example.keystore&#39;</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.keyStorePassword</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">example</span>

      <span class="l l-Scalar l-Scalar-Plain">protocols</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">binary</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.binary.ONetworkProtocolBinary</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">http</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.http.ONetworkProtocolHttpDb</span>
      <span class="l l-Scalar l-Scalar-Plain">listeners</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">binary</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2424-2430</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">binary</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2434-2440</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2480-2490</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http</span>
          <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>

<p>Two listeners registered for binary protocol: not secured (2424) and secured (2434). Two versions of http listeners could also be registered.</p>
<p>Note that default port ranges for binary ssl are 2434-2440. This is important as orient tries to connect to 2434 by default, when ssl is enabled on client (when port is not declared in address: <code>remote:localhost/somedb</code>). Different ports could be used, but it will force remote clients to always specify port (<code>remote:localhost:2455/somedb</code>).</p>
<h2 id="certificate-paths">Certificate paths<a class="headerlink" href="#certificate-paths" title="Permanent link">&para;</a></h2>
<p>By default, orient will try to locate socket certificates relative to <code>files-path</code> (ORIENTDB_HOME) directory, which might be not handful. To allow defining certificates relative to application startup dir, bundle will check registered ssl bundles and if configured keystorage files exist relatively to app dir, then it will change relative paths to absolute file paths.</p>
<p>For example, </p>
<div class="codehilite"><pre><span></span>      <span class="l l-Scalar l-Scalar-Plain">sockets</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssl</span>
          <span class="l l-Scalar l-Scalar-Plain">implementation</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.OServerTLSSocketFactory</span>
          <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.clientAuth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">network.ssl.keyStore</span><span class="p p-Indicator">:</span> <span class="s">&#39;conf/certs/example.keystore&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>

<p>If file <code>/app/run/dir/conf/certs/example.keystore</code> exists then this absolute path will be set into orient config (instead of relative). If file not found, then orient will try to resolve file against <code>files-path</code> directory.</p>
<h2 id="orient-info-servlet">/orient info servlet<a class="headerlink" href="#orient-info-servlet" title="Permanent link">&para;</a></h2>
<p>Orient info servlet shows all configured ports and highlights secured ports:</p>
<div class="codehilite"><pre><span></span>* Binary ports: 2424, 2434 (ssl)
* Http ports: 2480, 2491 (ssl)
</pre></div>

<h2 id="studio-url">Studio url<a class="headerlink" href="#studio-url" title="Permanent link">&para;</a></h2>
<p>If multiple http listeners defined, bundle will install studio only in one of them:</p>
<ul>
<li>Prefer https listener</li>
<li>If no secure listener found, use the first http listener</li>
</ul>
<p>/orient/studio alias will lead to https studio version (assuming https listener registered).</p>
<p>Dropwizard admin context ssl configuration is not counted (can't be), so alias will always properly redirect to the studio. For example, if admin context use https and orient is using http, then <code>https://localhost:8444/orient/studio will redirect to http url like</code><a href="http://localhost:2480/studio">http://localhost:2480/studio</a>` (opposite case is also possible).</p>
<h2 id="auto-ssl-configuration">Auto SSL configuration<a class="headerlink" href="#auto-ssl-configuration" title="Permanent link">&para;</a></h2>
<p>The special EXPERIMENTAL option provided to automate orient ssl configuration based on dropwizard main context configuration. </p>
<p>For example, dropwizard main connector is <a href="http://www.dropwizard.io/1.1.4/docs/manual/configuration.html#https">configured to use https</a>:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">server</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">applicationConnectors</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https</span>
        <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8443</span>
        <span class="l l-Scalar l-Scalar-Plain">keyStorePath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/example.keystore</span>
        <span class="l l-Scalar l-Scalar-Plain">keyStorePassword</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">example</span>
        <span class="l l-Scalar l-Scalar-Plain">validateCerts</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="l l-Scalar l-Scalar-Plain">validatePeers</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>

<p>And <code>auto-ssl</code> option is enabled (and no ssl manually configured for orient):</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">orient-server</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">files-path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$TMP/db/</span>
  <span class="l l-Scalar l-Scalar-Plain">auto-ssl</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">config</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">...</span>
     <span class="l l-Scalar l-Scalar-Plain">network</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">protocols</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">binary</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.binary.ONetworkProtocolBinary</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">http</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.orientechnologies.orient.server.network.protocol.http.ONetworkProtocolHttpDb</span>
      <span class="l l-Scalar l-Scalar-Plain">listeners</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">binary</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2424-2430</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http</span>
          <span class="l l-Scalar l-Scalar-Plain">ipAddress</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
          <span class="l l-Scalar l-Scalar-Plain">portRange</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2480-2490</span>
          <span class="l l-Scalar l-Scalar-Plain">socket</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
</pre></div>

<p>Then on startup new ssl socket will be added to the configuration (with the same keystore and truststore as in dropwizard) and both listeneres will be switched to use it. So you would see in /orient page:</p>
<div class="codehilite"><pre><span></span>* Binary ports: 2434 (ssl)
* Http ports: 2480 (ssl)
</pre></div>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It changed(!) default 2424-2430 port range for binary protocol to 2434-2440 because it is orient defaults for ssl (and remote connection from client will assume 2434 port by default). BUT, if port range will be different (even if it would be different only by 1: 2424-2429) then ports will not(!) be switched.</p>
</div>
<p>Also, auto-ssl mode automatically configures <a href="https://orientdb.com/docs/2.2/Using-SSL-with-OrientDB.html#client-configuration">orient client to use ssl</a>: <code>OGlobalConfiguration.CLIENT_USE_SSL.setValue(true);</code>. It is done ONLY when auto-ssl enabled because only in this case bundle could be sure that client must use secured connection (and for sure client will call embedded server).</p>
<p>This allows you to always use remote connection in the simplest way: <code>remote:localhost/somedb</code> (because port is corrected to ssl default automatically and client ssl mode also enabled). Convinient for tests.</p>
<p>Auto ssl option may be useful for dev environments to check something quickly. The option was not intended to be used for production due to its limitations:</p>
<ul>
<li>Will not configure orient ssl: </li>
<li>if at least one listener already use ssl</li>
<li>if dropwizard https connector specifies keystore providers (orient does not support providers configuration)</li>
<li>All configured listeners are changed to use ssl, so it is impossible to specify additional not secured listener when auto ssl enabled</li>
<li>Default ports change for bianray protocol and orient client ssl enabling could be confusing</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../console/" title="Console" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Console
              </span>
            </div>
          </a>
        
        
          <a href="../enterprise/" title="Enterprise" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Enterprise
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014-2018 Vyacheslav Rusakov
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/xvik" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/vyarus" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>